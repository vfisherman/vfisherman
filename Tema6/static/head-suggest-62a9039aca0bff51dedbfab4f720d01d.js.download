var RZ_APP=RZ_APP||{};(function(a,b){var c=function(a){var b=encodeURIComponent("%");return function(c){"string"==typeof c&&(c=c.replace(/%(?![A-F0-9]{2})/g,b));return a(c)}}(window.decodeURIComponent);a.helpers={decodeURIComponent:c,encodeHTMLQuotes:function(a){return String(a).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}}})(RZ_APP);
var Voice={defaultLang:"rus",langs:{rus:"ru-RU",ua:"uk-UA"},timeout:5E3,isStart:!1,timer:null,init:function(){this.recognition=new webkitSpeechRecognition;this.recognition.continious=!1;this.recognition.lang=this.getLang();this.recognition.onresult=this.onResult.bind(this);this.recognition.onspeechstart=this.onSpeechStart.bind(this);this.recognition.onend=this.onEnd.bind(this);this.recognition.maxAlternatives=1;this.recognition.interimResults=!1;this.recognition.onstart=this.onStart.bind(this)},checkSpeechRecognition:function(){return"function"==
typeof webkitSpeechRecognition},onStart:function(){this.startRecord()},start:function(a){this.isStart=!0;this.recognition.start();this.timer=setTimeout(this.stop.bind(this),this.timeout)},onSpeechStart:function(a){clearTimeout(this.timer)},onResult:function(a){this.isStart&&this.getResult(a.results[0][0].transcript)},stop:function(){this.isStart=!1;clearTimeout(this.timer);this.recognition.stop()},getLang:function(){var a=window.location.pathname.slice(1).split("/")[0];return this.langs[a]?this.langs[a]:
this.langs[this.defaultLang]},onEnd:function(a){clearTimeout(this.timer);this.endCallback()},startRecord:function(){},getResult:function(){},endCallback:function(){}},LocalStorageCrossDomain=(new LocalStorageCrossDomain_class).init(),RzSearchSuggest_class=SearchSuggest_class.extend({options:{default_catalog:null,default_source:null,tpl_construct:{less_than_page:"${main_begin}${goods}${show_all}${main_end}",one_plus_word:"${main_begin}${word_additions}${cat_urls}${cat_searches}${main_end}",before_full_word:"${main_begin}${word_additions}${main_end}",
more_than_page:"${main_begin}${goods}${cat_urls}${cat_searches}${show_all}${main_end}",voice:"${voice_begin}${voice}${voice_end}"},part_tpls:{main_begin:'{if text}\r\n\t<div class="rz-header-search-suggest">\r\n\t\t{if count}\r\n\t\t\t<div class="rz-header-search-suggest-g">\r\n\t\t\t{var i=1}\r\n\t\t\t',main_end:'</div>{else}\r\n\t\t\t<p class="rz-header-search-suggest-nothing">\r\n\t\t\t\t${sudg_noth_to_find}</nobr>\r\n\t\t\t</p>\r\n\t\t{/if}\r\n\t</div>\r\n{/if}',show_all:'<a class="arrow-linnk rz-header-search-suggest-more-link" name="show-all" href="#show-all"><span class="arrow-link-inner">${all_find_result}</span>&nbsp;&rarr;</a>',
cat_urls:'{for cat_url in records.cats_urls}\r\n\t\t\t\t<div data-rz-gtm-event="gotoCategory" data-id="${cat_url.id}" data-name="${cat_url.name}" class="rz-header-search-suggest-i js_cat_url" name="${i-1}">\r\n\t\t\t\t\t<span class="rz-header-search-suggest-i-rezult-grey">${move_to_category}</span> <a class="bold rz-link-icon" href="${cat_url.href}">${cat_url.name}</a>\r\n\t\t\t\t</div>\r\n\t\t\t{var i=i+1}\r\n{/for}',cat_searches:'{for cat_search in records.cats_searches}\r\n\t\t\t\t<div data-rz-gtm-event="searchCategory" data-id="${cat_search.id}" data-name="${cat_search.name}" class="rz-header-search-suggest-i js_cat_search" name="${i-1}">\r\n\t\t\t\t\t<a class="rz-header-search-suggest-i-rezult" href="${cat_search.href}">${changedText}</a> <span class="rz-header-search-suggest-i-rezult-grey">${cat_search.name}</span>\r\n\t\t\t\t</div>\r\n\t\t\t{var i=i+1}\r\n{/for}',
goods:'{for record in records.goods}\r\n\t\t\t\t<div data-id="${record.id}" data-rz-gtm-event="goodsTitleClick" class="rz-header-search-suggest-i js_goods" name="${i-1}">\r\n\t\t\t\t\t<div class="rz-header-search-suggest-i-img">\r\n\t\t\t\t\t\t<a class="rz-header-search-suggest-i-img-link"\r\n\t\t\t\t\t\thref="${record.href}">\r\n\t\t\t\t\t\t\t<img src="${record.image}" style="border: none; visibility: visible; zoom: 1; opacity: 1;" alt="${RZ_APP.helpers.encodeHTMLQuotes(record.title)}"/>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="rz-header-search-suggest-i-detail">\r\n\t\t\t\t\t\t<div class="rz-header-search-suggest-i-title">\r\n\t\t\t\t\t\t\t<a class="rz-header-search-suggest-i-title-link novisited"\r\n\t\t\t\t\t\t\thref="${record.href}">${record.title}</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{if record.sell_status!="archive"}\r\n\t\t\t\t\t\t\t<div class="rz-header-search-suggest-uah{if record.status == "unavailable"} rz-header-search-suggest-uah-outofstock{/if} inline">{if parseInt(record.price)>0}${record.price_formatted}{/if}</div>{if (typeof record.promo != \'undefined\')}<div class="rz-header-search-suggest-addprice inline">${price_with_promo}: <span class="rz-header-search-suggest-addprice-uah">${record.promo.price} ${currency}</span></div>\r\n\t\t\t\t\t\t{/if}{/if}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{var i=i+1}\r\n\t\t\t{/for}\r\n\t\t\t',
word_additions:'{for word_addition in records.words_additions}\r\n\t\t\t\t<div data-rz-gtm-event="suggestedQuery" data-name="${i-1}"" class="rz-header-search-suggest-i js_word_addition" name="${i-1}">\r\n\t\t\t\t\t<a class="rz-header-search-suggest-i-rezult" href="${word_addition.href}">{if word_addition.name_highlight}${word_addition.name_highlight}{else}${word_addition.name}{/if}</a>\r\n\t\t\t\t</div>\r\n\t\t\t{var i=i+1}\r\n{/for}',highlight_word_additions:'${highlight.before}<span class="rz-header-search-suggest-i-rezult-entered-text">${highlight.highlight}</span><span class="bold">${highlight.after}</span>',
voice:'<div class="rz-header-search-suggest-voice">\n    \t<div class="rz-header-search-suggest-voice-icon\nsprite-side">&nbsp;</div>\n     \t<div class="rz-header-search-voice-text">${talk}</div>\n     \t<div class="rz-header-search-voice-listening"><img\nsrc="https://i1.rozetka.ua/pages/474/474199.gif" width="64" height="64"\nalt=""></div>\n      \t<span class="btn-link btn-link-gray rz-voice-btn"> <a href="#"\nclass="btn-link-i" id="voice-close-btn">${btnClose}</a> </span>\n</div>\n',voice_begin:'\r\n\t<div class="rz-header-search-suggest" id="search-suggest-voice">\r\n\t\t <div class="rz-header-search-suggest-g">\r\n\t\t\t\r\n\t\t\t',
voice_end:"</div>\r\n\t</div>\r\n"},selectors:{inputContainer:"[name=rz-header-search-input-text-wrap]",button:"button.js-rz-search-button",text:"input[name=text]",form:"form[name=rz-search-form]",suggest_container:"[name=rz-header-search-suggest-container]",voiceButton:"#voice-btn",suggestVoiceContainer:"#search-suggest-voice",closeButton:"#voice-close-btn",category:{element:"input[name=section_id]",value:"[name=rz-search-category-value]",link:"[name=rz-search-category]"},list:{container:"[name=rz-search-category-list]",
item:"[name=rz-search-category-list-item]"}},apiSpellerUrl:"http://speller.yandex.net/services/spellservice.json/checkText?text=",userQuerySuggest:!1},pageDimming:null,pageDimmingArea:null,pageNonDimmingArea:null,oldRequest:null,_hideCategoryList:function(){},initialize:function(a){a&&(this._container=a);this.parent()},init:function(){var a=null;this._form=this._container.getElement(this.options.selectors.form);this._category_element=this._container.getElement(this.options.selectors.category.element);
this._category_value=this._container.getElement(this.options.selectors.category.value);this.input=this._form.getElement(this.options.selectors.text).addEvent("focus",this.onFocus.bind(this)).addEvent("keydown",this.onKeyDown.bind(this)).addEvent("keyup",this.onKeyUp.bind(this)).addEvent("input",this.onInput.bind(this));this.voice=Voice;this.voiceButton=this._container.getElement(this.options.selectors.voiceButton);if(this.voice.checkSpeechRecognition()){this.voice.init();var b=this;this.voiceButton.addEvent("click",
function(a){a.preventDefault();b.onClickVoice()})}else this.voiceButton.hide(),this._container.getElement(this.options.selectors.inputContainer).addClass(this.options.additionalClassRadius);this._setSearchText();this.input.getParent().addEvent("click",function(a){(new Event(a)).stop()});$E("body").addEvent("click",this.onBlur.bind(this));this.options.styles&&this.elem.setStyles(this.options.styles);(a=this._form.getElement(this.options.selectors.suggest_container))&&this.elem.inject(a);this._button=
this._form.getElement(this.options.selectors.button);this._button.addEvent("click",function(a){document.fireEvent("searchSuggest_searchButton")});this._form.addEvent("submit",this._checkEmptyForm.bind(this))},onBlur:function(a){(!a.target.closest(this.options.selectors.voiceButton)&&!a.target.closest(this.options.selectors.suggestVoiceContainer)||a.target.closest(this.options.selectors.closeButton))&&this.parent()},_checkEmptyForm:function(a){if(""==this.input.value.trim())return a.preventDefault?
a.preventDefault():a.returnValue=!1,this.input.placeholder=this._form.getAttribute("data-empty_text_placeholder"),!1;this._saveQueryToLocalStorage(this.input.value)},onInput:function(a){for(a=/(\s*(\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435:)*\s*http[s]*\:.*$)|(\s*\+.*!$)/ig;this.input.value.match(a);)this.input.value=this.input.value.replace(a,"");""===this.input.value||this._form.hasClass("active")||this._form.addClass("active")},_getSuggest:function(a){if(!a)return!1;this.options.userQuerySuggest=
!1;var b={headers:{ajaxAction:"null"!=this.options.source?this.options.source:this.options.default_source},data:{},onSuccess:this._setSuggest.bind(this),onComplete:this._suggestion.bind(this,a)};b.data[this.input.name]=a;this._category_element.disabled||(b.data[this._category_element.name]=this._category_element.value);b.data.suggest=1;this.oldRequest&&this.oldRequest.abort();a=new Ajax(this.options.url,b);a.request();this.oldRequest=a.transport},_replaceGoodsSsiPrices:function(a){a.content.records.goods&&
a.content.records.goods.each(function(a){if(a.raw_actual_prices){var c=JSON.parse(RZ_APP.helpers.decodeURIComponent(String(a.raw_actual_prices)));c.price&&c.price_formatted&&0<c.price&&(a.price=c.price,a.price_formatted=String(a.price_formatted).replace(/^[\d\s\.,]+/,c.price_formatted));c.usd_price&&0<c.usd_price&&(a.price_usd_clear=c.usd_price)}})},_highlightSearchPhrases:function(){function a(a,b){var f=a;a=a&&a.toLowerCase&&a.toLowerCase();b=b&&b.toLowerCase&&b.toLowerCase();for(var d=0,g=-1,e=
[],k=a.length,m=b.length,l=0;l<k;l++){e[l]=[];for(var p=0;p<m;p++){var t=Number,n=a[l],r=b[p],q=n==r;q||(q={"\u0451":"\u0435","\u044d":"\u0435","\u044a":"\u044c","\u0454":"\u0435","\u0456":"\u0438","\u0457":"\u0438","\u0491":"\u0433"},n=n in q&&q[n]||n,r=r in q&&q[r]||r,q=n==r);t=t(q);n=Number(!(!e[l-1]||!e[l-1][p-1])&&e[l-1][p-1]);n*=t;e[l][p]=n+t;e[l][p]>d&&(d=e[l][p],g=l+1)}}return f.substring(g-d,g)}function b(a,b){var f=a.replace(/\s/g,"");b=b.replace(/\s/g,"");var d=f.indexOf(b),g=d+b.length-
1;if(0>d)return null;for(var e=[],k=0,m=k,l=f.length;m<l&&!(m>g+1);m++){k=a.indexOf(f[m],k);if(0>k)break;e[m]=k;k+=1}f=e[d];g=e[g];return{before:a.substring(0,f),highlight:a.substring(f,g+1),after:a.substring(g+1)}}return function(c){c.content.records.words_additions&&!0!==c.content.text&&c.content.records.words_additions.each(function(h){var f=c.content.text.replace(/\s/g,"").toLowerCase(),d=h.name.replace(/\s/g,""),g=a(d,f),d=b(h.name,g),e="after";d.before.length&&d.before.length>d.before.length&&
(e="before");if(d[e].length)for(var g=f.split(g),k,m=g.length-1;0<=m;m--)if(k=a(g[m],f))if(k=b(d[e],k)){d[e]=App.getHTML(this.options.part_tpls.highlight_word_additions,{highlight:k});break}h.name_highlight=App.getHTML(this.options.part_tpls.highlight_word_additions,{highlight:d})}.bind(this))}}(),_setSuggest:function(a){a=new Response_class(a);a.doAction();if(!a.isError()){var b=App.getHTML(this.options.tpl_construct[a.content.tpl_name],this.options.part_tpls);this._replaceGoodsSsiPrices(a);this._highlightSearchPhrases(a);
var c=App.getHTML(b,a.content),h=[],f=document.createElement("div");f.innerHTML=c;Object.each(a.content.records,function(a,b){a.each(function(a,c){var d;switch(b){case "words_additions":d='.js_word_addition[data-name="'+c+'"]';break;case "cats_urls":d='.js_cat_url[data-id="'+a.id+'"]';break;case "cats_searches":d='.js_cat_search[data-id="'+a.id+'"]';break;case "goods":d='.js_goods[data-id="'+a.id+'"]'}if(d=f.querySelector(d))a.position=Element.getProperty(d,"name"),a.name=decodeURIComponent(a.name),
h[a.position]=a})});this._history[encodeURIComponent(a.content.text)]=$extend(a.content,{html:App.getHTML(b,a.content),records:h})}a.content.records.goods&&(this.pushToGA(a.content.records.goods),this.pushToGTM(a.content.records.goods))},_addDimming:function(){this.pageNonDimmingArea=this.pageNonDimmingArea||$E(".body-header");null!==this.pageNonDimmingArea&&(this.pageNonDimmingArea.addClass("rz-body-header-header"),this.pageDimming=this.pageDimming||document.createElement("div").addClass("rz-search-overlay"),
this.pageDimmingArea=this.pageDimmingArea||$E(".content-inner"),this.pageDimmingArea.appendChild(this.pageDimming))},_removeDimming:function(){this.pageNonDimmingArea&&this.pageNonDimmingArea.removeClass&&this.pageNonDimmingArea.removeClass("rz-body-header-header");this.pageDimming&&this.pageDimmingArea&&this.pageDimmingArea.contains(this.pageDimming)&&this.pageDimmingArea.removeChild(this.pageDimming)},_show:function(){this.parent();this._addDimming()},_hide:function(){this.voiceSearch&&this.voice.stop();
this.parent();this._removeDimming()},_suggestion:function(a){if(a==this.input.value||!0===a){!0!==a&&(a=a.trim(),a=a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"));this._suggest=$extend({elems:[],key:null,active:null,originSearchText:"",activatedWithMouse:!1},this._history[encodeURIComponent(a)]);this.elem.setHTML(this._suggest.html);this._show();if(this._suggest.count){var b=this;this._suggest.records.each(function(a,c){var d=this.elem.getElement("[name="+
c+"]");this._suggest.elems.include(d);d.addEvent("mousemove",this._setActive.bind(this,c,!0));d.addEvent("click",this._enterActive.bind(this,c));(d=d.getElement(".js-rz-suggest-delete"))&&d.addEvent("click",function(c){(new Event(c)).stop();b._cleanLocalStorageHistory(a);document.fireEvent("searchSuggestHistory_clean",{extend_event:[{name:"eventContext",value:a.name}]})})}.bind(this));(a=this.elem.getElement(".js-rz-search-suggest-clean-history"))&&a.addEvent("click",function(a){(new Event(a)).stop();
b._cleanLocalStorageHistory();document.fireEvent("searchSuggestHistory_clean")});var c=this.elem.getElement("[name=show-all]");c&&(c.form=this.input.form,c.addEvent("click",function(a){(new Event(a)).stop();b._saveQueryToLocalStorage(b.input.value);c.form.submit()}))}else document.fireEvent("searchSuggest_noSearchResult");if(c=this.elem.getElement("[name=show-all]"))c.form=this.input.form,c.addEvent("click",function(a){document.fireEvent("searchSuggest_showAll")});App.fireEvent("renewImages")}},onFocus:function(a){this._showLastQueries()||
this.parent(a)},onClickVoice:function(){var a=this;this.voice.startRecord=function(){document.fireEvent("searchSuggest_voiceSearchClick");var b=App.getHTML(a.options.tpl_construct.voice,a.options.part_tpls);a.elem.setHTML(App.getHTML(b,a.options.translations.voice));a._show();a.voice.getResult=function(b){document.fireEvent("searchSuggest_voiceSearchSpeech",{extend_event:[{name:"eventCallback",value:function(){window.location.href=a.options.source+"?text="+b}},{name:"eventContext",value:b}]})};a.voice.endCallback=
function(){a.voiceSearch=!1;a._hide()}};this.voice.start()},onKeyDown:function(a){a=new Event(a);"enter"==a.key&&this._suggest&&!this._suggest.activatedWithMouse&&null!==this._suggest.key?(a.stop(),this._enterActive(this._suggest.key)):"up"==a.key?(a.stop(),this._moveActive(-1)):"down"==a.key?(a.stop(),this._moveActive(1)):"esc"==a.key&&(this.input.value="",this._checkChanges(!1))},onKeyUp:function(a){a=new Event(a);switch(a.key){case "enter":case "up":case "down":break;default:this._showLastQueries()||
this.parent(a)}},_moveActive:function(a){var b=this._suggest.key,b=null===b?0>a?this._suggest.elems.length-1:0:b+a;this._suggest.elems[b]||(this._suggest.key=b=null);this._setActive(b)},_setOriginText:function(a){(a=this._suggest.elems[a])&&a.hasClass("js_word_addition")?(this._suggest.originSearchText=this._suggest.originSearchText||this.input.value,this.input.value=$E(".rz-header-search-suggest-i-rezult",a).innerText):this._suggest.originSearchText&&(this.input.value=this._suggest.originSearchText,
this._suggest.originSearchText="")},_setActive:function(a,b){this._suggest.activatedWithMouse=!!b;this.options.userQuerySuggest&&null===a?this.input.value="":this._suggest.activatedWithMouse||this._setOriginText(a);this.parent(a)},_enterActive:function(a,b){b&&(b.target.getAttribute("href")||b.target.parentElement.getAttribute("href"))&&!b.ctrlKey&&b.preventDefault();var c;switch(this._suggest.elems[a].getProperty("data-rz-gtm-event")){case "suggestedQuery":c=this._suggest.elems[a].innerText;break;
default:c=this.input.value}var h=function(a,b){b&&b.ctrlKey||(this._saveQueryToLocalStorage(c),window.location=this._suggest.records[a].href)}.bind(this,a,b);this._pushAnalytics(a,b,h);setTimeout(h,500)},_spellerRequest:function(a){if(""!==this.input.value){a.preventDefault?a.preventDefault():a.returnValue=!1;var b=this.input.value,c=this;a=new Ajax(this.options.apiSpellerUrl+this.input.value,{onComplete:function(){JSON.parse(this.response.text).forEach(function(a,c){a.s.length&&(b=b.replace(a.word,
a.s[0]))});if(c.input.value.toLowerCase()!==b.toLowerCase()){var a=document.createElement("input");a.type="hidden";a.name="wrong_phrase";a.value=c.input.value;c._form.appendChild(a);c.input.value=App.htmlSpecialChars(b)}c._form.removeEvents("submit");c._form.submit()}});a.headers["X-Rozetka-Header"]=void 0;try{delete a.headers["X-Rozetka-Header"]}catch(h){}a.request();return!1}},_setSearchText:function(){var a=App.parseURL(document.location.href.replace(/\+/g," ")).search;a&&(a=App.parseGET(a),a.text&&
(this.input.value=a.text))},getSearchText:function(){return this.input&&this.input.value||this.elem.getElement(".active").innerText},getSuggestRecordByPosition:function(a){return this._suggest&&this._suggest.records&&this._suggest.records[a]},_pushAnalytics:function(a,b,c){b=this._suggest.elems[a];a=b.getAttribute("data-rz-gtm-event");c={targetElement:b,extend_event:[{name:"eventCallback",value:c}]};switch(a){case "goodsTitleClick":document.fireEvent("searchSuggest_openProductPage",c);break;case "suggestedQuery":document.fireEvent("searchSuggest_suggestedQuery",
c);break;case "gotoCategory":document.fireEvent("searchSuggest_gotoCategory",c);break;case "searchCategory":document.fireEvent("searchSuggest_searchCategory",c)}},_sortQueries:function(a){if(1<Object.keys(a).length){var b=[],c;for(c in a)b.push([c,a[c]]);a={};b.sort(function(a,b){return b[1]-a[1]});b.each(function(b){a[b[0]]=b[1]})}return a},_removeUnnecessary:function(a){var b=Object.keys(a).length;10<b&&delete a[Object.keys(a)[b-1]];return a},_saveQueryToLocalStorage:function(a){if(!a||-1!=a.search(/(<([^>]+)>)/ig))return!1;
var b=LocalStorageCrossDomain.get("_dy_local_queries");b||(b={});a=a.trim();a=btoa(encodeURIComponent(a));b[a]=Date.now();b=this._sortQueries(b);b=this._removeUnnecessary(b);LocalStorageCrossDomain.set("_dy_local_queries",b)},_cleanLocalStorageHistory:function(a){var b={};arguments.length&&(b=LocalStorageCrossDomain.get("_dy_local_queries"),delete b[btoa(encodeURIComponent(a.name))]);LocalStorageCrossDomain.set("_dy_local_queries",b);this.input.value="";this._showLastQueries();this.input.focus()},
_buildLocalQueriesObject:function(){var a=LocalStorageCrossDomain.get("_dy_local_queries"),b=[],c=this._form.getProperty("action"),h;for(h in a)a=atob(h),b.push({href:c+"?text="+a,name:encodeURIComponent(RZ_APP.helpers.decodeURIComponent(a))});return{code:1,content:{count:b.length,text:!0,tpl_name:"suggest_history",records:{words_additions:b}}}},_showLastQueries:function(){if(""!=this.input.value||""==this.input.value&&!LocalStorageCrossDomain.get("_dy_local_queries"))return!1;var a=this._buildLocalQueriesObject();
if(!(a&&a.content&&a.content.count))return this._hide(),!1;this.options.userQuerySuggest=!0;this._setSuggest(JSON.stringify(a));this._suggestion(!0);return!0}}),GTMData_SearchSuggestSearchPage_class=GTMData_BaseProduct_class.extend({Class:"GTMData_SearchSuggestSearchPage_class",base_GTM_event:{eventCategory:"Interactions",eventAction:"click",eventLocation:"SearchBar"},options:{GTM:{events:{search_suggest_show_category:{event_name:"searchSuggest_showCategorySearch",extend_event:[{name:"eventLabel",
value:"showCategory"}]},search_suggest_open_category:{event_name:"searchSuggest_openCategorySearch",extend_event:[{name:"eventLabel",value:"openCategory"}]},search_suggest_search_button:{event_name:"searchSuggest_searchButton",extend_event:[{name:"eventLabel",value:"searchButton"},{name:"eventContext",handlerID:"getSuggestSearchText"}]},search_suggest_suggested_query:{event_name:"searchSuggest_suggestedQuery",extend_event:[{name:"eventLabel",value:"suggestedQuery"},{name:"eventContext",handlerID:"getSuggestSearchText"},
{name:"eventPosition",handler:"getSearchSuggestElementPosition"}]},search_suggest_goto_category:{event_name:"searchSuggest_gotoCategory",extend_event:[{name:"eventLabel",value:"gotoCategory"},{name:"eventContext",handlerID:"getSuggestSearchText"},{name:"eventPosition",handler:"getSearchSuggestElementPosition"},{name:"eventProductCategoryId",handler:"getSearchSuggestElementCategoryId"},{name:"eventProductCategoryGroupId",handler:"getSearchSuggestElementTopCategoryId"}]},search_suggest_search_category:{event_name:"searchSuggest_searchCategory",
extend_event:[{name:"eventLabel",value:"searchCategory"},{name:"eventContext",handlerID:"getSuggestSearchText"},{name:"eventPosition",handler:"getSearchSuggestElementPosition"},{name:"eventProductCategoryId",handler:"getSearchSuggestElementCategoryId"},{name:"eventProductCategoryGroupId",handler:"getSearchSuggestElementTopCategoryId"}]},search_suggest_show_all:{event_name:"searchSuggest_showAll",extend_event:[{name:"eventLabel",value:"showAll"},{name:"eventContext",handlerID:"getSuggestSearchText"}]},
search_suggest_open_product_page:{event_name:"searchSuggest_openProductPage",extend_event:[{name:"eventLabel",value:"openProductPage"},{name:"eventContext",handlerID:"getSuggestSearchText"},{name:"eventPosition",handler:"getSearchSuggestElementPosition"},{name:"eventProductCategoryId",handler:"getSearchSuggestElementCategoryId"},{name:"eventProductCategoryGroupId",handler:"getSearchSuggestElementTopCategoryId"},{name:"eventValue",handler:"getSearchSuggestProductPrice"},{name:"eventProductId",handler:"getSearchSuggestProductId"},
{name:"eventProductVendorId",handler:"getSearchSuggestProductProducerId"},{name:"eventMerchantID",handler:"getSearchSuggestProductMerchantId"},{name:"eventSellerID",handler:"getSearchSuggestProductSellerId"}]},search_suggest_no_search_result:{event_name:"searchSuggest_noSearchResult",extend_event:[{name:"eventCategory",value:"Non-Interactions"},{name:"eventAction",value:"show"},{name:"eventLabel",value:"noSearchResult"},{name:"eventContext",handlerID:"getSuggestSearchText"}]},search_suggest_history_clean_history:{event_name:"searchSuggestHistory_clean",
extend_event:[{name:"eventLabel",value:"deleteQuery"},{name:"eventContext",value:"deleteAll"}]},search_similar_query:{event_name:"search_similarQuery",extend_event:[{name:"eventCategory",value:"Interactions"},{name:"eventAction",value:"click"},{name:"eventLabel",value:"similarQuery"},{name:"eventContext",handlerID:"getSearchText"}]},voice_speech:{event_name:"searchSuggest_voiceSearchSpeech",extend_event:[{name:"eventCategory",value:"Interactions"},{name:"eventAction",value:"click"},{name:"eventLabel",
value:"searchSpeech"}]},voice_click:{event_name:"searchSuggest_voiceSearchClick",extend_event:[{name:"eventCategory",value:"Interactions"},{name:"eventAction",value:"click"},{name:"eventLabel",value:"microphone"}]}}}},getSuggestSearchText:function(){return RzSearchSuggest&&RzSearchSuggest.getSearchText()},getDefaultValueByName:function(a,b){console.log("Missed event value",a,b);return 0},getSearchSuggestElementPosition:function(a){return(a=a&&a.targetElement)&&a.hasClass("rz-header-search-suggest-i")&&
a.getAttribute("name")},getSearchSuggestElementCategoryId:function(a){a=this.getSearchSuggestElementPosition(a);return(a=RzSearchSuggest&&a&&RzSearchSuggest.getSuggestRecordByPosition(a))&&(a.parent_id||a.id)},getSearchSuggestElementTopCategoryId:function(a){a=this.getSearchSuggestElementPosition(a);return(a=RzSearchSuggest&&a&&RzSearchSuggest.getSuggestRecordByPosition(a))&&(a.top_parent_id||a.top_id)},getSearchSuggestProductPrice:function(a){a=this.getSearchSuggestElementPosition(a);return(a=RzSearchSuggest&&
a&&RzSearchSuggest.getSuggestRecordByPosition(a))&&a.price_usd_clear},getSearchSuggestProductId:function(a){a=this.getSearchSuggestElementPosition(a);return(a=RzSearchSuggest&&a&&RzSearchSuggest.getSuggestRecordByPosition(a))&&a.id},getSearchSuggestProductProducerId:function(a){a=this.getSearchSuggestElementPosition(a);return(a=RzSearchSuggest&&a&&RzSearchSuggest.getSuggestRecordByPosition(a))&&a.producer_id},getSearchSuggestProductMerchantId:function(a){a=this.getSearchSuggestElementPosition(a);
return(a=RzSearchSuggest&&a&&RzSearchSuggest.getSuggestRecordByPosition(a))&&a.merchant_id},getSearchSuggestProductSellerId:function(a){a=this.getSearchSuggestElementPosition(a);return(a=RzSearchSuggest&&a&&RzSearchSuggest.getSuggestRecordByPosition(a))&&a.seller_id},getLabel:function(a){return"group_category"==(a.target||a.srcElement).getProperty("data-name")?"openGroupCategory":"openCategory"},getContent:function(a,b){var c="";this.storage.getGoodsDataField(a,"part",b)&&(c=this.storage.getGoodsDataField(a,
"part",b)+":"+this.storage.getGoodsDataField(a,"rank",b));return c},getTestVariant:function(a,b){var c="";this.storage.getGoodsDataField(a,"part",b)&&(c=this.storage.getGoodsDataField(a,"type",b)+":"+this.storage.getGoodsDataField(a,"part",b));return c},getError:function(a,b){return this.storage.getGoodsDataField(a,"search_text",b)}});(function(){var a=GTMData_SearchSuggestSearchPage_class.prototype.options.GTM.events,b;for(b in GTMData_BaseProduct_class.prototype.options.GTM.events)a[b]&&delete a[b]})();
GTMEvents.initDataBlocks([new GTMData_SearchSuggestSearchPage_class]);function setGoogleAnalyticsForSimilarKeywords(a,b){dataLayer.push({event:"OWOX",eventCategory:"Interactions",eventAction:"click",eventLabel:"similarQuery",eventContext:b});setTimeout(function(){document.location=a.href},500)};
